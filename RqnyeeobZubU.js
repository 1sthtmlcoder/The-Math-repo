"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[76560],{18435:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.familySafetyStatusMapper=void 0;const s=a(22799),o=a(5241);t.familySafetyStatusMapper=(e,t)=>{if(!(null===e||void 0===e?void 0:e.data))return o.DefaultFamilySafetySetting;const a=(0,s.asObject)(e.data),i=(0,s.asOptionalBool)(a.isAllowed),n=(new Date).toISOString(),l=i?(0,s.asOptionalString)(a.until):n,r=(0,s.asOptionalBool)(a.bypassAgeLimit);let c=!1;return i&&(void 0===t||t?r&&(c=!0):c=!0),{isAllowed:c,hasContentException:r,blockReasons:(0,s.asNumber)(a.blockReasons),lockTime:l}}},34620:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=a(22970);s.__exportStar(a(75713),t),s.__exportStar(a(5241),t),s.__exportStar(a(78320),t),s.__exportStar(a(59781),t)},84957:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getHexXboxTitleId=void 0,t.getHexXboxTitleId=function(e){let t=parseInt(e).toString(16);for(;t.length<8;)t=`0${t}`;return t=t.toUpperCase(),`0x${t}`}},5241:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DefaultFamilySafetySetting=t.ResponseBlockReasons=void 0,function(e){e[e.None=0]="None",e[e.AppBlocking=1]="AppBlocking",e[e.AppOverride=2]="AppOverride",e[e.AppLimits=4]="AppLimits",e[e.ScreenTime=8]="ScreenTime"}(t.ResponseBlockReasons||(t.ResponseBlockReasons={})),t.DefaultFamilySafetySetting={isAllowed:!0,blockReasons:0,lockTime:void 0,hasContentException:void 0}},39171:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.familySafetyActions=t.FamilySafetyActionTypes=void 0;const s=a(37138);var o;!function(e){e.FETCH_FAMILY_SETTING="familySafety/FETCH_FAMILY_SAFETY_SETTING",e.FETCH_FAMILY_SETTING_COMPLETED="familySafety/FETCH_FAMILY_SAFETY_SETTING_COMPLETED",e.RESET="familySafety/REST"}(o=t.FamilySafetyActionTypes||(t.FamilySafetyActionTypes={})),t.familySafetyActions={fetchFamilySafetySetting:(0,s.createAsyncAction)(o.FETCH_FAMILY_SETTING,o.FETCH_FAMILY_SETTING_COMPLETED,((e,t)=>({type:o.FETCH_FAMILY_SETTING,titleId:e,isContentRestricted:t})),((e,t)=>({type:o.FETCH_FAMILY_SETTING_COMPLETED,titleId:e,familySafetySetting:t})),((e,t)=>({type:o.FETCH_FAMILY_SETTING_COMPLETED,error:e,titleId:t}))),reset:(0,s.createAction)(o.RESET)}},75713:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0});const s=a(22970);s.__exportStar(a(39171),t),s.__exportStar(a(114),t),s.__exportStar(a(24523),t),s.__exportStar(a(47276),t)},114:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.familySafetyReducerFactory=void 0;const s=a(21883),o=a(37138),i=a(39171);t.familySafetyReducerFactory=e=>(t={},a)=>{switch(a.type){case i.FamilySafetyActionTypes.FETCH_FAMILY_SETTING:return Object.assign(Object.assign({},t),{[a.titleId]:(0,s.lceFetching)(t[a.titleId])});case i.FamilySafetyActionTypes.FETCH_FAMILY_SETTING_COMPLETED:if((0,o.isErrorAction)(a)){return Object.assign(Object.assign({},t),{[a.titleId]:(0,s.lceError)(a.error,t[a.titleId])})}return Object.assign(Object.assign({},t),{[a.titleId]:(0,s.lceContent)(a.familySafetySetting,e.cacheTime)});case i.FamilySafetyActionTypes.RESET:return{};default:return t}}},47276:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.Saga=void 0;const s=a(20608),o=a(22799),i=a(41765),n=a(39171),l=a(84957);t.Saga=class{constructor(e,t){this.familySafetyService=e,this.logger=t,this.sagas=[this.watchFetchFamilySafetySetting()],this.watchFetchFamilySafetySetting=this.watchFetchFamilySafetySetting.bind(this),this.fetchFamilySafetySetting=this.fetchFamilySafetySetting.bind(this)}*watchFetchFamilySafetySetting(){yield(0,s.takeEvery)(n.FamilySafetyActionTypes.FETCH_FAMILY_SETTING,this.fetchFamilySafetySetting)}*fetchFamilySafetySetting(e){var t;try{const t=yield(0,s.call)([this.familySafetyService,this.familySafetyService.fetchFamilySafetyStatus],(0,l.getHexXboxTitleId)(e.titleId),e.isContentRestricted);yield(0,s.put)(n.familySafetyActions.fetchFamilySafetySetting.success(e.titleId,t))}catch(a){const l=(0,o.toError)(a);null===(t=this.logger)||void 0===t||t.log("ServiceClient.FamilySafety.Saga",i.LogLevel.Error,`Failed to fetch family safety setting of ID: ${e.titleId}, isContentRestricted: ${e.isContentRestricted}: ${l.message}`),yield(0,s.put)(n.familySafetyActions.fetchFamilySafetySetting.error(l,e.titleId))}}}},24523:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getFamilySafetyStatus=void 0;const s=a(21883);t.getFamilySafetyStatus=(e,t)=>e[t]||s.LCE_NOT_REQUESTED},78320:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FamilySafetyService=void 0;const s=a(51175),o=a(51941),i=a(18435);t.FamilySafetyService=class{constructor(e,t={},a,n){if(this.fetchFamilySafetyStatus=async(e,t)=>{const a=this.requestFactory.post("xcloud/api/v1.0/IsUsageAllowed",{productId:e,deviceTime:new Date}),s=await this.httpClient.execute(a);return(0,i.familySafetyStatusMapper)(s,t)},!e.rpsTicketProvider&&!e.alternateAuthenticator)throw new Error("No auth info provided");const l=e.rpsTicketProvider?new o.RpsTicketCustomHeaderAuthenticator(e.rpsTicketProvider,"service::family.microsoft.com::MBI_SSL","X-C2SAuthentication",n):e.alternateAuthenticator;this.httpClient=(new s.HttpClientBuilder).authenticator(l).interceptors(t).build();const r={[s.HttpHeader.ContentType]:"application/json","X-Device-Info":`${a.os}; ${a.platform},${a.platformVersion}; ${a.device},${a.deviceVersion}`};this.requestFactory=s.RequestFactory.withBaseUrl("https://clientfd.family.microsoft.com").setCommonMaxRetries(3).setCommonHeaders(r)}}},59781:(e,t,a)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.shouldFetchFamilySafety=void 0;const s=a(21883);t.shouldFetchFamilySafety=function(e,t,a){return!(0,s.isUnexpiredContent)(e)&&(!(0,s.isFetching)(e)&&(!(0,s.isError)(e)&&(!(!t||void 0===a)&&("Admin"!==t||255!==a))))}},33819:(e,t,a)=>{a.d(t,{Z:()=>i});var s=a(22970),o=a(2784);const i=function(e){var{title:t,titleId:a}=e,i=(0,s.__rest)(e,["title","titleId"]);return o.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 2048 2048",width:"1em",height:"1em","aria-labelledby":a},i),t?o.createElement("title",{id:a},t):null,o.createElement("path",{d:"M1661 896q80 0 150 30t123 81 83 122 31 151q0 80-30 149t-82 122-123 83-149 30H512q-106 0-199-40t-163-109-110-163-40-200q0-106 40-199t109-163 163-110 200-40q46 0 93 9 37-62 90-111t117-83 133-53 143-18q111 0 209 39t175 107 125 163 64 203zm3 640q53 0 99-20t82-55 55-81 20-100q0-53-20-99t-55-82-81-55-100-20h-128v-64q0-93-35-174t-96-143-142-96-175-35q-70 0-135 21t-119 59-97 91-67 120q-75-35-158-35-80 0-149 30t-122 82-83 123-30 149q0 80 30 149t82 122 122 83 150 30h1152z"}))}},43204:(e,t,a)=>{a.d(t,{l:()=>r});var s=a(9888),o=a(2784),i=a(74495),n=a(58850),l=a(21779);function r(){const e=(0,i.useSelector)(l.S5),t=(0,o.useMemo)((()=>(0,s.lceTransform)(e,(e=>e===n.m9.Login))),[e]);return(0,s.useLce)(t)}},73719:(e,t,a)=>{a.d(t,{P:()=>_});var s=a(814),o=a.n(s),i=a(24923),n=a.n(i),l=(a(6886),a(52322)),r=a(96473),c=a(12524),d=a.n(c),u=a(2784),y=a(25948),m=a(86523),f=a(83929),p=a(18248),S=a(28861);const h=["className"],_=(0,u.forwardRef)(((e,t)=>{let{className:a}=e,s=n()(e,h);const[i,c]=(0,m.QF)("Play","Play_With_Game_Pass_Ultimate"),_=(0,f.G)(),T=(0,u.useCallback)((()=>{_(p.j8.path,{})}),[_]);return(0,l.jsxs)(r.kD,o()(o()({ref:t,as:"button","data-action-type":y.t.OverlayIn,className:d()("GamePassUpsellButton-module__upsellButton___sp6Gq",a),buttonType:r.L$.Brand,onClick:T},s),{},{children:[(0,l.jsx)("div",{className:S.y5,children:i}),(0,l.jsx)("div",{className:S.Oi,children:c})]}))}))},17293:(e,t,a)=>{a.d(t,{A7:()=>A,JM:()=>F,Pt:()=>b});var s=a(814),o=a.n(s),i=a(24923),n=a.n(i),l=(a(6886),a(52322)),r=a(96473),c=a(33819),d=a(12524),u=a.n(d),y=a(2784),m="PlayButton-module__buttonIcon___u3Uy5",f="PlayButton-module__playButtonGenericOrDisabled___02m-y",p="PlayButton-module__wrapper___iVhIN",S=a(25948),h=a(86523),_=a(28861);const T=["className"],v=["className"],g=["className","hasPurchased"],b=(0,y.forwardRef)(((e,t)=>{let{className:a}=e,s=n()(e,T);const[i]=(0,h.QF)("Play");return(0,l.jsx)("div",{ref:t,tabIndex:0,className:p,children:(0,l.jsx)(r.Zi,o()(o()({as:"button",isCallToAction:!0,disabled:!0,icon:c.Z,className:u()(f,a),iconClassName:m,buttonType:r.L$.Brand},s),{},{children:i}))})})),A=(0,y.forwardRef)(((e,t)=>{let{className:a}=e,s=n()(e,v);const[i]=(0,h.QF)("Play");return(0,l.jsx)("div",{ref:t,className:p,children:(0,l.jsx)(r.Zi,o()(o()({as:"button",isCallToAction:!0,icon:c.Z,className:u()(f,a),iconClassName:m,buttonType:r.L$.Brand},s),{},{children:i}))})})),F=(0,y.forwardRef)(((e,t)=>{let{className:a,hasPurchased:s}=e,i=n()(e,g);const[c,d,y]=(0,h.QF)("Play","Play_You_Own_This","Play_Included_With_Ultimate");return(0,l.jsxs)(r.kD,o()(o()({ref:t,as:"button","data-action-type":S.t.OverlayIn,className:u()("PlayButton-module__playButton___hI70d",a),buttonType:r.L$.Brand},i),{},{children:[(0,l.jsx)("div",{className:_.y5,children:c}),(0,l.jsx)("div",{className:_.Oi,children:s?d:y})]}))}))},76560:(e,t,a)=>{a.d(t,{d:()=>he,o:()=>Se});var s=a(24923),o=a.n(s),i=a(814),n=a.n(i),l=(a(73439),a(6886),a(52322)),r=a(15946),c=a(9888),d=a(46209),u=a(71315),y=a(2784),m=a(74495),f=a(17293),p=a(36749),S=a(34431),h=a(43204),_=a(42153),T=a(61872),v=a(18382),g=a(83929),b=a(18248),A=a(81634),F=a(87223),N=a(19866),C=a(52907),I=a(1001),x=a(95577),E=a(66747),P=a(49687),k=a(95741),w=a(18533),j=a(84904),R=a(80907),B=a(18378),L=a(98204),O=a(86523),M=a(40866),D=a(29971),U=a(5801),q=a(99402),G=a(30805),$=a(15760),H=a(80311),Y=a(96473),V=a(12524),X=a.n(V),Z=a(28861);const W=["productId","className"],K=(0,y.forwardRef)(((e,t)=>{let{productId:a,className:s}=e,i=o()(e,W);const[r,c]=(0,O.QF)("ProductDetailPage_BuyNowLine1","ProductDetailPage_BuyNowLine2"),d=(0,U.hW)("BuyNowButton"),u=(0,g.G)(),m=(0,y.useCallback)((()=>{d.trackUserAction(q.V.BuyButton,void 0,{productId:a}),u(b.$_.path,{productId:a})}),[u,a,d]);return(0,l.jsxs)(Y.kD,n()(n()({as:"button",onClick:m,buttonType:Y.L$.Brand,ref:t,className:X()(Z.aq,s)},i),{},{children:[(0,l.jsx)("div",{className:Z.y5,children:r}),(0,l.jsx)("div",{className:Z.Oi,children:c})]}))}));var Q=a(73719),J=a(15410),z=a(15512);const ee=["className"],te=(0,y.forwardRef)(((e,t)=>{let{className:a}=e,s=o()(e,ee);const i=(0,O.iV)("Not_Available_Separately");return(0,l.jsx)("div",{ref:t,tabIndex:0,className:Z.YS,children:(0,l.jsx)(Y.kD,n()(n()({isCallToAction:!0,disabled:!0,as:"button",className:X()(a,Z.aq),buttonType:Y.L$.Secondary},s),{},{children:i}))})}));var ae=a(57760),se=a(16763),oe=a(36278);const ie=["className"],ne=(0,y.forwardRef)(((e,t)=>{let{className:a}=e,s=o()(e,ie);const{isTV:i}=(0,x.d)(),r=(0,O.iV)("UnsupportedMarket_ViewRegions");return(0,l.jsx)(Y.$D,n()(n()({as:"a",ref:t,icon:i?ae.Z:se.Z,isCallToAction:!0,className:X()(Z.aq,"PlayWithContextualFallbackButton-module__regionUnsupportedButton___BTDJ+",a),buttonType:Y.L$.Brand,href:oe.eT,target:"_blank"},s),{},{children:r}))}));var le=a(34620),re=a(25948);const ce=["askExceptionRequest","className"],de={ServiceError:null,UserIsUnderage:"Content",[le.ResponseBlockReasons.AppLimits]:"ScreenTime",[le.ResponseBlockReasons.ScreenTime]:"ScreenTime",[le.ResponseBlockReasons.AppOverride]:"Content",[le.ResponseBlockReasons.AppBlocking]:"Content",[le.ResponseBlockReasons.None]:"Content"},ue=(0,y.forwardRef)(((e,t)=>{let{askExceptionRequest:a,className:s}=e,i=o()(e,ce);const r=(0,g.G)(),c=(0,y.useCallback)((()=>{r(b.Xm.path,{askExceptionRequest:a})}),[r,a]),d=(0,O.iV)("ExceptionRequest_RequestPermission_Button");return(0,l.jsx)(Y.kD,n()(n()({ref:t,as:"button",isCallToAction:!0,className:X()(Z.aq,s),"data-action-type":re.t.OverlayIn,buttonType:Y.L$.Brand,onClick:c},i),{},{children:d}))}));var ye=a(66766);const me=["className"],fe=(0,y.forwardRef)(((e,t)=>{let{className:a}=e,s=o()(e,me);const i=(0,O.iV)("Browser_Unsupported");return(0,l.jsx)("div",{ref:t,tabIndex:0,className:Z.YS,children:(0,l.jsx)(Y.kD,n()(n()({as:"button",disabled:!0,isCallToAction:!0,className:X()(Z.aq,a),buttonType:Y.L$.Secondary},s),{},{children:i}))})})),pe=["launchStreamOptions","getLaunchStreamOptions","productId","title","context","className"],Se=(0,y.memo)((e=>(0,l.jsx)(r.PersistentFocus,{children:(0,l.jsx)(he,n()({"data-auto-focus":!0},e))}))),he=e=>{var t;let{launchStreamOptions:a,getLaunchStreamOptions:s,productId:i,title:Y,context:V="default",className:X}=e,Z=o()(e,pe);const{setRef:W}=(0,r.usePersistentFocusRef)(),ee=(0,P.nj)(T.y.EnableBYOGPurchase),ae=(0,P.nj)(T.y.EnableFreeToPlay),se=(0,P.nj)(T.y.EnableAskAParentScreenTime),oe=(0,P.nj)(T.y.EnableAskAParentContent),[ie,{loading:le}]=(0,B.F)(i),re=(0,d.useUniqueLogger)("PlayWithContextualFallbackButton"),ce=(0,S.A)(),me=(0,m.useSelector)(u.NA),{showGetReadyToPlayButton:Se}=(0,H.t_)(),he=(0,N.c)(i),_e=(0,w.r)(),Te=(0,m.useSelector)(M.Cb),ve=!(null===Te||void 0===Te||!Te.isRunning),[ge]=(0,h.l)(),{isTV:be,isFireOS:Ae}=(0,x.d)(),Fe=(0,k.K)(),[Ne,Ce]=(0,y.useState)(!1),[Ie,{loading:xe}]=(0,_.Z)(),[Ee,{loading:Pe}]=(0,L.I)(i),[ke,{loading:we}]=(0,E.Z)(i),[je,{loading:Re}]=(0,G.Xo)(),Be=(0,c.isFetching)((0,R.J)(i)),Le="PlayWithContextualFallbackButton",Oe=(0,j.C)({telemetryLocation:Le,productId:i}),Me=(0,U.hW)(Le),De=(0,g.G)(),[Ue,,{setUserSetting:qe}]=(0,F.B)("showConfirmQuitF2PModal"),Ge=(0,x.d)(),[$e]=(0,C.S)(i),{mouseActive:He,keyboardConnected:Ye,keyboardInputDevice:Ve}=(0,v.Ko)(),Xe=(0,P.nj)(T.y.EnableMouseAndKeyboard),Ze=(0,P.nj)(T.y.IsTakehomeUser),We=(0,p.Z)(),[Ke]=(0,I.n)("enableMouseAndKeyboard"),Qe=null!==(t=(0,P.nj)(T.y.ShowMouseKeyboardSetting))&&void 0!==t&&t,Je=We&&Qe&&Ke,ze=(0,y.useMemo)((()=>Ge?{browserSupport:he,useCanPlayWithMouseAndKeyboardViaTitleInfoLce:$e,gamepadConnected:Fe,keyboardConnected:Ye,mouseActive:He,keyboardInputDeviceName:Ve,mkbFeatureGate:Xe,mkbDevOverride:Je,isDeveloperMode:We,isTakehomeUser:Ze}:void 0),[he,$e,Fe,We,Ge,Ye,Ve,Xe,Je,He,Ze]),et=(0,y.useCallback)((async()=>{if(!a){if(s){Ce(!0);const e=await s();return Ce(!1),e}return{}}return a}),[a,s]),tt=(0,y.useCallback)((async()=>{const e=await et();Me.trackUserAction(q.V.OpenModal,void 0,ze),De(b.We.path,{productId:i,title:Y,launchStreamOptions:e},{replace:!0})}),[et,De,i,Y,ze,Me]),[at]=(0,F.B)("showGameModeEducator"),st=Ae&&at,ot=(0,$.t)(),it=(0,y.useCallback)((async()=>{const e=await et();return Me.trackUserAction(q.V.AttemptToPlay,void 0,ze),he!==N.M.Partial&&!st&&!ot||ve?(Ue&&qe(!1),Oe(n()({shouldNavigate:!0},e))):tt()}),[et,ze,Me,he,st,ot,ve,tt,Ue,Oe,qe]),nt=ae&&(0,A._O)(i),lt=(0,O.iV)("SignInToPlay_Button");if(Se)return(0,l.jsx)(J.L,n()({ref:W},Z));if(!ce)return(0,l.jsx)(ye.$,n()({ref:W,className:X,customSignInText:"invite"===V?lt:void 0},Z));if(!_e)return(0,l.jsx)(ne,n()({ref:W,className:X},Z));if(he===N.M.Blocked)return(0,l.jsx)(fe,n()({ref:W,className:X},Z));if(Ne||Pe||we||Re||le||Be||void 0===Ie&&xe||!ge)return(0,l.jsx)(z.f,n()({ref:W,className:X},Z));if(!nt&&!1===Ie)return re.debug("Title is not F2P and user is not an XGPU subscriber. Showing GamePass Upsell button."),(0,l.jsx)(Q.P,n()({ref:W,className:X},Z));if(!1===(null===ke||void 0===ke?void 0:ke.isAllowed)&&me&&Ee){const e=de[ke.reason],t="ScreenTime"===e&&se,a="Content"===e&&oe;if(je&&(t||a)){if(re.debug("User family status does not allow playing this title, showing request permission button"),t){if(!ke.lockTime)return re.warn("Missing required prop 'familyStatus.lockTime' to initiate AAP ScreenTime flow, showing disabled play button"),(0,l.jsx)(f.Pt,n()({ref:W,className:X},Z));const e={type:"ScreenTime",telemetryLocation:"AskExceptionRequestDialog-ScreenTime",lockTime:ke.lockTime};return(0,l.jsx)(ue,n()({ref:W,className:X,askExceptionRequest:e},Z))}{if(!Y)return re.warn("Missing required prop 'title' to initiate AAP Content flow, showing disabled play button"),(0,l.jsx)(f.Pt,n()({ref:W,className:X},Z));const e={type:"Content",telemetryLocation:"AskExceptionRequestDialog-Content",contentId:(0,D.e)(Ee.details.xboxTitleId,8),gameTitle:Y};return(0,l.jsx)(ue,n()({ref:W,className:X,askExceptionRequest:e},Z))}}return re.debug("User family status does not allow playing this title, showing disabled play button"),(0,l.jsx)(f.Pt,n()({ref:W,className:X},Z))}if(null!==Ee&&void 0!==Ee&&Ee.details.hasEntitlement){const e=(null===ie||void 0===ie?void 0:ie.isProductInByog)&&(null===ie||void 0===ie?void 0:ie.isProductPurchased);return!be||Fe||ve?!nt&&(null!==ie&&void 0!==ie&&ie.isProductInXgpu||e)?(0,l.jsx)(f.JM,n()({hasPurchased:e,ref:W,className:X,onClick:it},Z)):(0,l.jsx)(f.A7,n()({ref:W,className:X,onClick:it},Z)):(0,l.jsx)(J.L,n()({ref:W,className:X,onClick:tt},Z))}return re.debug("User does not have a streaming entitlement to play title."),!ee||null===ie||void 0===ie||!ie.isProductInByog||ie.isProductInXgpu||null!==ie&&void 0!==ie&&ie.isProductPurchased?(re.debug("Could not determine a valid play button state, showing disabled play button."),(0,l.jsx)(f.Pt,n()({ref:W,className:X},Z))):ie.isProductPurchasable?(re.debug("Product is not available as part of XGPU, is available as part of BYOG, does not have a streaming entitlement, and the user does not own the product. Showing Buy button."),(0,l.jsx)(K,n()({ref:W,className:X,productId:i},Z))):(0,l.jsx)(te,n()({ref:W,className:X},Z))}},80907:(e,t,a)=>{a.d(t,{J:()=>l});a(6886);var s=a(9888),o=a(2784),i=a(55415),n=a(52665);const l=e=>{const[,t]=(0,i.M)(e,n.G.Detailed);return(0,o.useMemo)((()=>(0,s.lceTransform)(t,(e=>e.detailLevel!==n.G.Detailed?null:e))),[t])}},29971:(e,t,a)=>{a.d(t,{l:()=>n,e:()=>l});a(73439),a(88233);var s,o=a(34620);!function(e){e.Child="Child",e.Admin="Admin"}(s||(s={}));var i=a(89085);class n{constructor(e,t){this.familySafety=e,this.logger=t}async isAllowed(e,t,a,n){const r=n===s.Child,c=this.isUserUnderage(t,a);if(r){let t;try{t=await this.familySafety.fetchFamilySafetyStatus(l(e,8),c)}catch(d){const e=(0,i.L)(d);return this.logger.error(`Unable to get FamilySafetyStatus ${e.message}`,e),{isAllowed:!0,reason:o.ResponseBlockReasons.None,lockTime:void 0}}return t.isAllowed?{isAllowed:!0,reason:o.ResponseBlockReasons.None,lockTime:void 0}:{isAllowed:!1,reason:t.blockReasons,lockTime:t.lockTime}}return c?{isAllowed:!1,reason:"UserIsUnderage",lockTime:void 0}:{isAllowed:!0,reason:o.ResponseBlockReasons.None,lockTime:void 0}}isUserUnderage(e,t){return e>t}}function l(e,t){let a=e.toString(16);for(;a.length<t;)a=`0${a}`;return a=a.toUpperCase(),`0x${a}`}}}]);
//# sourceMappingURL=76560.023c4482.chunk.js.map