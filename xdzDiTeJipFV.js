"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[97656],{65921:(e,t,n)=>{n.d(t,{T:()=>r});class r{constructor(e,t,n,r){this.exit=e,this.connectionType=t,this.reason=n,this.errorCode=r}static isErrorState(e){return e instanceof r}}},64174:(e,t,n)=>{n.d(t,{k:()=>r});class r{static isNotStartedState(e){return e instanceof r}NotStatedState(){}}},35700:(e,t,n)=>{var r;n.d(t,{f:()=>r}),function(e){e.Home="home",e.InvitePeople="invite-people",e.StateShare="state-share",e.ShowPeoplePicker="show-people-picker",e.CreateParty="create-party"}(r||(r={}))},83881:(e,t,n)=>{n.d(t,{t:()=>s});n(6886);var r=n(9888),o=n(2784),a=n(87169);const s=e=>{let{adLocation:t,targetId:n,tagId:s,minWidth:i,minHeight:l,ratioWidth:c,ratioHeight:d}=e;const u=(0,o.useContext)(a.A),[m,p]=(0,o.useState)(r.lceFetching),v=(0,o.useRef)();return(0,o.useEffect)((()=>{u&&!v.current&&(v.current=u.fetchTag({adLocation:t,targetId:n,tagId:s,minWidth:i,minHeight:l,ratioWidth:c,ratioHeight:d,onAdAvailable:e=>{p((0,r.lceContent)(e))},onAdError:e=>{p((0,r.lceError)(e))}}))}),[t,u,s,n,c,d,i,l]),(0,o.useEffect)((()=>{(0,r.isContent)(m)&&v.current&&v.current.fireImpressions()}),[m]),(0,o.useEffect)((()=>()=>{var e;return null===(e=v.current)||void 0===e?void 0:e.cleanUp()}),[]),(0,r.useLce)(m)}},61954:(e,t,n)=>{var r;n.d(t,{B:()=>r}),function(e){e.Provisioning="provisioning",e.Carousel="carousel"}(r||(r={}))},86459:(e,t,n)=>{n.d(t,{f:()=>r});class r extends Event{constructor(e,t){super(r.type),this.isVisible=e,this.dialogName=t}static is(e){return e.type===r.type}}r.type="dialogVisibilityChanged"},36849:(e,t,n)=>{n.d(t,{I:()=>v});var r=n(52322),o=n(12524),a=n.n(o),s=n(2784),i=n(28316),l="BaseModal-module__dimmedBackground___eVH0g",c="BaseModal-module__modal___WiWj9",d=n(8318),u=n(98660),m=n(5801);const p=e=>{let{onCloseRequest:t}=e;return(0,u.cu)((0,s.useCallback)((()=>!!t&&(t(),!0)),[t])),null},v=e=>{let{children:t,onCloseRequest:n,onUnmounted:o,backgroundDismissable:u=!0,describedby:v,labeledBy:g,label:f,dimBackground:h}=e;const S=(0,s.useMemo)((()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d.g3;if("undefined"===typeof document)return;let t=document.getElementById(e);return null===t&&(t=document.createElement("div"),t.id=e,document.body.appendChild(t),t.className=a()(c,"xgp-reset-style")),t}(d.g3)),[]),y=(0,s.useRef)(null);return(0,s.useEffect)((()=>{const e=y.current;if(!e||!n)return;const t=e=>{u&&e.target===e.currentTarget&&!e.defaultPrevented&&(null===n||void 0===n||n())};return e.addEventListener("click",t),()=>e.removeEventListener("click",t)}),[y,n,u]),(0,s.useEffect)((()=>{if(S)return requestAnimationFrame((()=>{if(S.style.display="",S.children.length>0){var e;"true"===(null===(e=S.children.item(S.children.length-1))||void 0===e?void 0:e.getAttribute("data-dim-background"))?S.classList.add(l):S.classList.remove(l)}})),()=>{0===S.children.length&&requestAnimationFrame((()=>{S.style.display="none"}))}}),[S]),(0,s.useEffect)((()=>()=>null===o||void 0===o?void 0:o()),[o]),null==S?null:(0,i.createPortal)((0,r.jsxs)(m.Pl,{location:"Modal",children:[(0,r.jsx)(p,{onCloseRequest:n}),(0,r.jsx)("div",{ref:y,className:"BaseModal-module__content___mRNEB","aria-describedby":v,"aria-labelledby":g,"aria-modal":!0,role:"dialog","data-dim-background":h,"aria-label":f,children:t})]}),S)}},57530:(e,t,n)=>{n.d(t,{h:()=>a});var r=n(74495),o=n(72776);const a=()=>(0,r.useSelector)(o.kz)},31749:(e,t,n)=>{n.d(t,{_:()=>et});var r=n(814),o=n.n(r),a=n(52322),s=n(2784),i="GameStreamBootstrapper-module__container___sTGex",l=(n(73439),n(6886),n(46209)),c=n(36749),d=n(89085),u=n(1931),m=n(50957);var p=n(9888),v=n(16216),g=n(74495),f=n(61872),h=n(83929),S=n(18248),y=n(9758),b=n(49687),I=n(42879),C=n(3968);const E=864e5,P=()=>{var e;const t=(0,I.w)(),{attemptAndroidExitFullscreen:n}=(0,y.A)();let r=null!==(e=(0,b.dh)(f.y.F2PPostPlayUpsellCooldown))&&void 0!==e?e:E;isNaN(r)&&(r=E);const{dialogSettingsStore:o}=(0,C.S)(),a=(0,h.G)(),i=(0,s.useCallback)((()=>{a(S.j8.path,{},{shouldPersistStateOnPageNavigation:!0})}),[a]),l=(0,s.useCallback)((()=>{const e=Date.now();e-o.getSetting("f2PPostPlayUpsellCooldownStartTime")>r&&(o.setSetting("f2PPostPlayUpsellCooldownStartTime",e),i())}),[r,i,o]);return(0,s.useCallback)((e=>{!1!==(null===e||void 0===e?void 0:e.shouldNavigate)&&t(),n(),!0===(null===e||void 0===e?void 0:e.shouldOpenUpsellDialog)&&l()}),[n,t,l])};n(74407),n(26464),n(64903);var w=n(35751),x=n(57530),k=n(72776);var T=n(86459),R=n(58632),M=n(99896),L=n(33214),_=n(35700),G=n(13675);const D=e=>{switch(e){case _.f.InvitePeople:return[L.GuideGameInviteHome.path];case _.f.StateShare:return[L.GuideStateShareHome.path];case _.f.CreateParty:return[L.GuideCreateParty.path];case _.f.Home:return[L.GuideHome.path];case _.f.ShowPeoplePicker:return[L.RemotedPeoplePicker.path];default:return[L.GuideHome.path]}},j=(e,t)=>{switch(e){case _.f.StateShare:return{[L.GuideStateShareHome.path]:t};case _.f.ShowPeoplePicker:return{[L.RemotedPeoplePicker.path]:t};default:return{}}};n(71372),n(4173),n(68995),n(88233);var A,U=n(22799);!function(e){e.XCloudTransferToken="service::http://Passport.NET/purpose::PURPOSE_XBOX_CLOUD_CONSOLE_TRANSFER_TOKEN",e.FamilySafety="service::family.microsoft.com::MBI_SSL"}(A||(A={}));var O=n(22565);var F=n(53801),N=n(87143);var B=n(99689),H=n(41935),X=n(86523),V=n(28044),q=n(40866),W=n(7267),Z=n(5653);const $=new class{constructor(){}setPostStreamRedirectUrl(e){this.postStreamRedirectUrl=e}isSwitchStreamRedirectUrl(){if(!this.postStreamRedirectUrl)return!1;return!!(0,W.LX)(this.postStreamRedirectUrl,{path:Z.Play.path,exact:!0})}};n(96708);const z="https://www.xbox.com";function K(e){var t,n,r;let o=(null===(t=globalThis.location)||void 0===t?void 0:t.origin)||z;return null!==(n=globalThis.location)&&void 0!==n&&n.hostname&&null!==(r=globalThis.location)&&void 0!==r&&r.hostname.endsWith("xbox.com")||(o=z),`${o}/${Z.ShareStatePrototypeTestHarness.getLink(e)}`}function Q(e,t,n,r,a,i,m){const h=(0,u.I)((()=>new l.Logger("GameStreamBootstrapper/useGameStream"))),y=(0,H.If)(),I=P(),E=(0,g.useSelector)(v.yWe),{audioContextBootstrapper:_,telemetryProvider:W,accsManager:Z}=(0,C.S)(),z=(0,X.Ri)(),Q=(()=>{const e=(0,s.useRef)(),t=(0,s.useRef)(),n=(0,c.Z)(),r=(0,g.useSelector)(k.Z1),a=(0,x.h)(),i=(0,g.useSelector)((n=>{const r=(0,v.TrC)(n);return t.current&&e.current===r||(t.current=Object.entries(w.y).reduce(((e,t)=>{let[n,o]=t;const a=r[o.toLowerCase()];return null!=a&&(e[n]=a),e}),{})),t.current})),l=(0,b.nj)(w.y.CollectUserEmail),d=i.CollectUserEmail||l||n||r,u=(0,b.nj)(w.y.EnableInternalFeedback),m=i.EnableInternalFeedback||u||a||r;return(0,s.useMemo)((()=>o()({CollectUserEmail:d,EnableInternalFeedback:m},i)),[i,d,m])})(),J=(0,B.t)(),Y=function(){const e=(0,u.I)((()=>new l.Logger("GameStreamBootstrapper/useTransferTokenCallback"))),{authProvider:t}=(0,C.S)();return(0,s.useCallback)((async()=>{const n="transfer-token-msa-redirect";try{const a=await t.getMsaAccessTokenSilently(A.XCloudTransferToken);if(!a)throw new Error("MsaAccessTokenSilently returned undefined token");try{var r;null===(r=globalThis.window)||void 0===r||r.sessionStorage.removeItem(n)}catch(c){var o;const t=(0,U.toError)(c);null===(o=e.current)||void 0===o||o.warn(`Failed to remove ${n} from session storage. Reason: ${t.message}`,t)}return a}catch(d){var a;const r=(0,U.toError)(d),o=`Unable to acquire transfer token (Reason: ${r.message}) - Redirecting to MSA login`;null===(a=e.current)||void 0===a||a.warn(o,r);try{var s,i;const e=null===(s=globalThis.window)||void 0===s?void 0:s.sessionStorage.getItem(n),r=e?parseInt(e,10):NaN;var l;if(!isNaN(r)&&Date.now()-r<3e5)throw null===(l=globalThis.window)||void 0===l||l.sessionStorage.removeItem(n),new Error("Failed to acquire transfer token after redirecting to MSA login.");null===(i=globalThis.window)||void 0===i||i.sessionStorage.setItem(n,Date.now().toString()),await t.startSignInWithRedirect(window.location.href,{prompt:"none"})}catch(c){const e=(0,U.toError)(c);throw new Error(`Failed to start sign-in with redirect. Reason: ${e.message}`)}throw r}}),[e,t])}(),ee=(0,c.Z)(),te=(0,g.useDispatch)(),[ne,{loading:re,error:oe}]=(0,p.useReduxLce)(q.rl),ae=(()=>{const{closeGuide:e,openGuide:t}=(0,M.getGuideNavigation)(),n=(0,R.d)(),r=(0,s.useRef)(n);r.current!==n&&(r.current=n);const o=(0,s.useRef)(null);o.current||(o.current=new EventTarget);const a=(0,s.useRef)(!1);(0,s.useEffect)((()=>G.Am.onChange((e=>{var t;if(null!==(t=e.content)&&void 0!==t&&null!==(t=t.props)&&void 0!==t&&t.onClick)switch(e.status){case"added":a.current=!0;break;case"removed":a.current=!1}}))),[]);const i=(0,s.useRef)({open:(e,n)=>{a.current||r.current||t({history:e?D(e):[L.GuideHome.path],currentTelemetryLocation:["GameStream"],replace:!0,dialogProps:n?j(e,n):{}})},close:()=>{a.current||e()},addEventListener:o.current.addEventListener.bind(o.current),removeEventListener:o.current.removeEventListener.bind(o.current),isOpen:()=>r.current});return(0,s.useEffect)((()=>{o.current.dispatchEvent(new T.f(n,S.Dn.name))}),[n]),i.current})(),se=(()=>{const e=(0,s.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:r}=(0,O.c)(),o=t(S.Xm.path),a=(0,s.useRef)({open:e=>n(S.Xm.path,e),close:r,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,s.useEffect)((()=>{e.current.dispatchEvent(new T.f(o,"AskExceptionRequestDialog"))}),[o]),a.current})(),ie=(0,b.nj)(f.y.EnableClientGuideInStream),le=(0,b.nj)(f.y.EnableOpenEndedGameInvites),ce=(0,b.nj)(f.y.EnableStateShareTcui),de=(0,b.nj)(f.y.EnableAccs),ue=(()=>{const{closeSettings:e,openSettings:t}=(0,F.O)(),{getIsDialogOpen:n}=(0,O.c)(),r=n(S.DL.path),o=(0,s.useRef)(null);o.current||(o.current=new EventTarget);const a=(0,s.useRef)({open:e=>{let n=[];if(e)switch(e){case N.nM.name:n=[N.nM.getLink()];break;case N.nf.name:n=[N.nf.getLink()]}t({history:n,currentTelemetryLocation:[],dialogProps:{context:"in-stream"}})},close:e,addEventListener:o.current.addEventListener.bind(o.current),removeEventListener:o.current.removeEventListener.bind(o.current)});return(0,s.useEffect)((()=>{o.current.dispatchEvent(new T.f(r,S.DL.name))}),[r]),a.current})(),me=(()=>{const e=(0,s.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:r}=(0,O.c)(),o=t(S.HZ.path),a=(0,s.useRef)({open:()=>n(S.HZ.path,null),close:r,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,s.useEffect)((()=>{e.current.dispatchEvent(new T.f(o,"StreamFeedbackDialog"))}),[o]),a.current})(),pe=(()=>{const e=(0,s.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:r}=(0,O.c)(),o=t(S.XL.path),a=(0,s.useRef)({open:(e,t,r)=>{n(S.XL.path,{titleId:e,launchUri:t,onComplete:r})},close:r,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,s.useEffect)((()=>{e.current.dispatchEvent(new T.f(o,"TitleActivationDialog"))}),[o]),a.current})(),ve=(()=>{const e=(0,s.useRef)(new EventTarget),{getIsDialogOpen:t,navigate:n,goBack:r}=(0,O.c)(),o=t(S.Uo.path),a=(0,s.useRef)({open:e=>n(S.Uo.path,e),close:r,addEventListener:e.current.addEventListener.bind(e.current),removeEventListener:e.current.removeEventListener.bind(e.current)});return(0,s.useEffect)((()=>{e.current.dispatchEvent(new T.f(o,"UserGestureDialog"))}),[o]),a.current})(),ge="xhome-connect"===(null===i||void 0===i?void 0:i.connectMode),fe=ce||(ie||le)&&!ge?ae:void 0,{userSettingsStore:he,deviceInformation:Se,developerSettingsStore:ye}=(0,C.S)();(0,s.useEffect)((()=>{if(!ne&&!re){if(oe)throw oe;try{var o,s,i;if(null===(o=h.current)||void 0===o||o.debug("Instantiating GameStream instance"),!e.current)null===(s=h.current)||void 0===s||s.warn("Unexpected state reached - Parameter 'gameStreamContainerRef.current' was undefined");if(!t.current)null===(i=h.current)||void 0===i||i.warn("Unexpected state reached - Parameter 'purchaseUIRef.current' was undefined");te(V.Fw.start(e.current,{audioContext:_.audioContext,client:r,createEncapsulatedStateShareUrl:K,developerSettingsStore:ye,deviceInformation:Se,featureGateConfig:Q,fullscreenElement:document.documentElement,getTransferToken:Y,navigationManager:$,guideUI:fe,askExceptionUI:se,isChildAccount:J,isDeveloperMode:ee,marketInfo:E,navigateBack:m||(()=>I()),persistentSettingsStore:he,playSound:y,purchaseUI:t.current,provisioningAdUI:n.current,strings:z,telemetryProvider:W,user:a,settingsUI:ue,feedbackUI:me,userGestureUI:ve,accsManager:de?Z:void 0,titleActivationUI:pe}))}catch(c){var l;const e=(0,d.L)(c);null===(l=h.current)||void 0===l||l.error(`An error occurred while initializing GameStream - ${e.message}`,e)}}}),[_.audioContext,Se,ye,te,oe,I,Q,ne,e,Y,J,ee,re,h,E,y,t,n,r,z,W,a,he,m,fe,se,ue,me,ve,Z,de,pe]),(0,s.useEffect)((()=>{ne&&ne.user!==a&&(ne.user=a)}),[ne,a]),(0,s.useEffect)((()=>{ne&&Q&&ne.updateFeatureGates(Q)}),[ne,Q]);const be=(0,s.useRef)({});return be.current.gameStream=ne,(0,s.useEffect)((()=>()=>{const{gameStream:e}=be.current;null!=e&&te((0,V.Hl)(e))}),[te]),ne}n(36728),n(77950),n(21850),n(85940),n(94908),n(14121),n(60523);var J=n(34431),Y=n(42153),ee=n(86114),te=n(79790),ne=n(44442);const re=/^(.*\.xbox\.com.*)?\/play(?:$|(?:\/|\?|#).*)/i,oe=/^http(s)?:\/\//i;function ae(e,t){const n=(0,W.k6)(),r=P(),o=(0,J.A)(),[a]=(0,Y.Z)(),i=(0,s.useRef)(!1),c=(0,b.nj)(f.y.EnableF2PPostPlayUpsell),u=(0,b.nj)(f.y.EnablePrivacyControls),[m]=(0,ee.K)(),p=(0,s.useCallback)((()=>{const e="cloud-connect"===t&&c&&i.current&&o&&!1===a;return u?e&&(null===m||void 0===m?void 0:m.personalizedPurchaseUpsellValue):e}),[t,c,u,o,a,m]),v=function(){const e=(0,l.useLogger)("useHandleCustomRedirect"),t=(0,W.k6)(),n=(0,s.useCallback)(((n,r)=>{if(oe.test(r)){if(re.test(r)){let n=Z.Home.getLink();try{const e=new URL(r);n=e.pathname+e.search+e.hash}catch(o){const t=(0,d.L)(o);e.error("Invalid redirectUrl",t)}t.push(n)}else t.push(Z.Home.getLink()),window.open(r,"_blank")}else n.isSwitchStreamRedirectUrl()?t.replace(r):t.push(r)}),[t,e]);return n}(),g=(0,s.useContext)(ne.k),h=null===e||void 0===e?void 0:e.navigationManager;(0,s.useEffect)((()=>()=>{null===h||void 0===h||h.setPostStreamRedirectUrl(void 0)}),[h]),(0,s.useEffect)((()=>{if(!e)return;const o=()=>{null===g||void 0===g||g.unblockNavigation();const e=null===h||void 0===h?void 0:h.postStreamRedirectUrl;h&&e?v(h,e):"managed-devkit-connect"===t||("xhome-connect"===t?n.push(te.$7.getLink()):n.push(Z.Home.getLink())),r({shouldNavigate:!1,shouldOpenUpsellDialog:p()})},a=()=>{i.current=!0};return e.addEventListener("completed",o,{once:!0}),e.addEventListener("connected",a,{once:!0}),()=>{e.removeEventListener("completed",o),e.removeEventListener("connected",a)}}),[e,n,t,r,a,i,o,c,p,v,g,h])}var se=n(89298),ie=n(8929),le=n(87223),ce=n(95577),de=n(28902);var ue=n(1001),me=n(5058);var pe=n(3197),ve=n(32062),ge=n(80822);const fe=e=>{const t=[e.buttons[2],e.buttons[0],e.buttons[3],e.buttons[1]].concat(e.buttons.slice(4));return{id:e.id,index:e.index,connected:e.connected,timestamp:e.timestamp,mapping:e.mapping,axes:e.axes,vibrationActuator:e.vibrationActuator,buttons:t,displayId:e.displayId,hapticActuators:[e.vibrationActuator]}};var he=n(3522),Se=n(64174);var ye=n(19719),be=n(69634);function Ie(e,t,n){const r=(0,u.I)((()=>new l.Logger("GameStreamBootstrapper/useSessionConnect"))),o=(0,s.useRef)(!1),[a,{loading:i}]=(0,ye.R1)("enableNarrator"),[m,{loading:p}]=(0,ye.R1)("highContrastMode"),[v,{loading:g}]=(0,ye.R1)("enableMonoAudioOutput"),h=function(){const[,e]=(0,s.useState)();return(0,s.useCallback)((t=>{e((()=>{throw t}))}),[])}(),S=(0,c.Z)(),{stickyQueryStrings:y}=(0,C.S)(),{isTizen:I,isMacOS:E,isSafari:P,isIOS:w,isIPadOS:x}=(0,ce.d)(),[k]=(0,ue.n)("takAllowMouseInteraction"),T=(0,b.nj)(f.y.EnableLowerMaxBufferLimit),R=(0,b.dh)(f.y.NumberOfStatsEventsToStore),M=(0,b.dh)(f.y.StatsEventFrequencySec),L=(0,b.dh)(f.y.StatsCollectionSizeSec),_=(0,b.nj)(f.y.StringifyStatUponCollect),G=(0,b.nj)(f.y.Remove78FPSHack),D=(0,b.nj)(f.y.UseWebCodecsByDefault),j=(0,b.dh)(f.y.VideoLatencyPreset),A=(0,b.nj)(f.y.EnableUseRetryAfterHeader),U=I,O=!"MISSING_ENV_VAR".E2E&&(E&&P||x||w),F=(0,b.nj)(f.y.SetCodecPreferences),N=(0,b.nj)(f.y.UseTizenH264MainSdpHack),B=function(){const{isTV:e}=(0,ce.d)();if(!e)return;const t=(0,de.D)(),[n]=(0,le.B)("enableStreamMicrophone");return t?n:void 0}(),H=(0,b.dh)(f.y.InputChannelMaxVersion),X="titleInfo"in t?t.titleInfo:void 0,V=(0,pe.e)(X),q=function(e){var t;const n=(0,c.Z)(),[r]=(0,ue.n)("enableMouseAndKeyboard"),o=null!==(t=(0,b.nj)(f.y.ShowMouseKeyboardSetting))&&void 0!==t&&t,a=!!e&&(0,se.isMouseAndKeyboardTitle)(e),s=(0,me.$)();return(a||n&&o&&r)&&s}(X),W=function(e){return!!(0,b.nj)(f.y.EnableAbsoluteMouse)&&e}(q),Z=function(){var e;const t=(0,c.Z)(),[n]=(0,ue.n)("enableSensors"),r=null!==(e=(0,b.nj)(f.y.ShowSensorsSetting))&&void 0!==e&&e;return t&&r&&n}(),$=(0,b.nj)(f.y.EnableSensorInput),z=(0,b.dh)(f.y.SensorInputPollingRateInHz),K=(0,b.nj)(f.y.EnablePrivacyControls),Q=(0,b.nj)(f.y.EnableAudioDeviceSelection),J=(0,b.nj)(f.y.EnableXSTHLogs),[Y]=(0,ee.K)(),te=K?null===Y||void 0===Y?void 0:Y.optionalDataCollectionValue:void 0,[ne]=(0,be.ad)(),[re]=(0,ye.R1)("gameVolumeLevel"),[oe]=(0,ye.R1)("audioOutputDeviceId"),ae=(()=>{const{isDualSense:e}=(0,ge.useControllerInformation)(),t=(0,b.nj)(f.y.TransformFireOSGamepads),{isFireOS:n,osVersion:r}=(0,ce.d)(),o=n&&(0,ve.gS)(r);return e&&t&&o?fe:void 0})(),Ie=(0,s.useCallback)((()=>{(async()=>{if(e)try{const r={enableNarrator:a,highContrastMode:m,systemUpdateGroup:"",releaseChannel:se.ReleaseChannel.Release,requestPlayStreamGesture:!0,enableOptionalDataCollection:te,enableDebugMessageHandler:J},s={},i={gameVolumeLevel:re,enableMicrophone:B,enableGameChat:ne?!ne.getPartyChatEnabled():void 0,outputDeviceSinkId:Q?oe:void 0},l={},c={},d=new se.ServerAllocationPollingConfiguration(!!A);let u;if(D&&(s.videoDecoderType=ie.RainwayVideoDecoder.WebCodecs),null!=j&&(s.latencyPreset=j),S){const e=y.getBoolean(he.R4.Session.ignoreServiceConfiguration);null!=e&&(r.ignoreServiceConfiguration=e),r.systemUpdateGroup=y.getString(he.R4.Session.systemUpdateGroup,"");const t=y.getBoolean(he.R4.Session.showStreamStatisticsOverlay),n=y.getBoolean(he.R4.Session.useSoftwareRendering),o=y.getInteger(he.R4.Session.videoDecoderType),a=y.getInteger(he.R4.Session.videoLatencyPreset);null!=a&&(s.latencyPreset=a);const l=y.getBoolean(he.R4.Session.enableHevc),c=y.getBoolean(he.R4.Session.useHardwareAudioDecoding);r.releaseChannel=y.getInteger(he.R4.Session.releaseChannel,r.releaseChannel),r.requestPlayStreamGesture=y.getBoolean(he.R4.StreamClient.requestUserGesture);const d=y.getInteger(he.R4.StreamClient.streamType);u=void 0!==d?d:void 0,null!=t&&(s.showStreamStatisticsOverlay=t),null!=o&&(s.videoDecoderType=o),null!=n&&!0===n&&(s.videoDecoderType=ie.RainwayVideoDecoder.Software),null!=l&&(s.enableHevc=l),null!=c&&(i.useHardwareAudioDecoding=c)}l.statsPollingIntervalMs=1e3,l.statsEventFrequencySec=null!==M&&void 0!==M?M:30,l.statsCollectionSizeSec=null!==L&&void 0!==L?L:30,l.stringifyStatUponCollect=null===_||void 0===_||_,l.numberOfStatsEventsToStore=null!==R&&void 0!==R?R:8,x&&(l.statsEventFrequencySec=0,l.statsCollectionSizeSec=180,l.stringifyStatUponCollect=!1,l.numberOfStatsEventsToStore=1),s.perfTrackerProfile=T?ie.PerfTrackerProfile.LowerMaxBufferLimit:ie.PerfTrackerProfile.Default,s.remove78FPSHack=G,s.setCodecPreferences=F,s.useTizenH264MainSdpHack=N,i.audioMode=v?se.AudioMode.Mono:se.AudioMode.Stereo,c.useNexusPressWorkaround=U,c.useIntervalWorkerThreadForInput=O,c.inputChannelMaxVersion=H,c.enableTouchInput=V,c.enableMouseInput=q,c.enableKeyboardInput=!1,c.enableAbsoluteMouse=W,c.enableSensorInput=$||Z,c.sensorInputPollingRateInHz=z,c.maxTouchPoints=0!==navigator.maxTouchPoints?navigator.maxTouchPoints:S&&k?1:0,c.gamepadTransformer=ae;const p=t.connectMode;if("cloud-connect"===p)await e.cloudConnect(t.titleInfo,{options:r,videoConfiguration:s,audioConfiguration:i,statisticsConfiguration:l,inputConfiguration:c,pollingConfiguration:d},u,t.gameInvite,n,t.stateShare);else if("xhome-connect"===p)await e.homeConsoleConnect(t.remotePlayServerId,{options:r,videoConfiguration:s,audioConfiguration:i,statisticsConfiguration:l,inputConfiguration:c,pollingConfiguration:d},u,n);else if("ip-connect"===p){e.updateFeatureGates({ShowNotStartedRocket:!1});const o=t.uriPathAndQuery,a=t.ipAddress,m="";await e.directConnect(a,m,{options:r,videoConfiguration:s,audioConfiguration:i,statisticsConfiguration:l,inputConfiguration:c,pollingConfiguration:d},o,u,n)}else{if("managed-devkit-connect"!==p)throw new Error(`An unexpected state was reached - Neither Cloud Connect, Remote Play nor Ip-Connect \n                    requirements were satisfied by the passed in arguments, connectMode: ${p}`);await e.managedDevkitConnect(t.managedDevkitSessionDetails,{options:r,videoConfiguration:s,audioConfiguration:i,statisticsConfiguration:l,inputConfiguration:c,pollingConfiguration:d},n)}}catch(i){var s;const e=(0,d.L)(i);return null===(s=r.current)||void 0===s||s.warn(`An error occurred while connecting via GameStream - ${e.message}`,e),void h(e)}finally{o.current=!1}})()}),[t,W,T,B,v,q,a,te,$,Z,V,e,m,H,S,x,_,r,ne,G,z,F,n,y,k,h,O,U,R,A,L,M,N,j,D,re,oe,Q,J,ae]),Ce=(0,s.useRef)(null);(0,s.useEffect)((()=>{var n;const a="cloud-connect"===t.connectMode?t.titleInfo:null,s=!!e&&!Se.k.isNotStartedState(e.state);if((null===a||void 0===a?void 0:a.titleId)!==(null===(n=Ce.current)||void 0===n?void 0:n.titleId)){const e=Ce.current;var l;if(Ce.current=a,a&&s)return null===(l=r.current)||void 0===l||l.info(`User is trying to switch stream session, from ${null===e||void 0===e?void 0:e.titleId} to ${a.titleId}`),void Ie()}o.current||!e||s||i||p||g||(o.current=!0,Ie())}),[t,e,g,i,p,r,Ie])}var Ce=n(65921);function Ee(e){const t=(0,l.useUniqueLogger)("useSquelchXboxComBanners");(0,s.useEffect)((()=>{if(!e)return;const n=document.querySelector("#pageBannerContainer");if(!n)return void t.warn("Unable to acquire a reference to the Xbox.com banner container");const r=n.style.display;function o(){Ce.T.isErrorState(null===e||void 0===e?void 0:e.state)||Se.k.isNotStartedState(null===e||void 0===e?void 0:e.state)?a():(n.style.display="none",t.debug("Squelched Xbox.com banners"))}function a(){n.style.display=r,t.debug("Allowed Xbox.com banners")}return e.addEventListener("stateChanged",o),o(),()=>{e.removeEventListener("stateChanged",o),a()}}),[e,t])}var Pe=n(98353),we=(n(31235),n(31168)),xe=n(28316);class ke extends Event{constructor(){super(ke.type)}}ke.type="provisioningAdMountedEvent";var Te=n(24462);const Re=e=>{let{data:{imgUri:t,sponsoredBy:n},eventTarget:r}=e;const[o,i]=(0,X.QF)("Ad_Sponsored_By","Ad_Sponsored_By_With_Name");(0,s.useEffect)((()=>{r.dispatchEvent(new ke)}),[r]);const[l,c]=(0,s.useState)(!1),{isSupportedTVBrowser:d}=(0,ce.d)();(0,s.useEffect)((()=>{const e=setTimeout((()=>{c(!0)}),d?1500:0);return()=>{clearTimeout(e)}}),[d]);const u=(0,v.WUZ)(i,n);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("div",{className:"BannerProvisioningAd-module__bannerSponsorText___TRPtX","aria-label":u,children:o}),l&&(0,a.jsx)(Te.p,{alertString:u}),(0,a.jsx)("img",{className:"BannerProvisioningAd-module__bannerItem___Lqaff",src:t,alt:n})]})};var Me,Le=n(54762),_e=n(81634),Ge=n(51536),De=n(83881),je=n(61954);!function(e){e[e.Dev=28452753]="Dev",e[e.ProdWeb=28452753]="ProdWeb",e[e.ProdTV=28452753]="ProdTV"}(Me||(Me={}));const Ae=":xe_banner_prov_ad:",Ue=[_e.bv],Oe=(0,s.forwardRef)(((e,t)=>{const[n,r]=(0,s.useState)(),o=(0,s.useRef)(new EventTarget),[,i]=(()=>{const e=(0,b.dh)(f.y.ProvisioningAdsPlacementId),{isTV:t}=(0,ce.d)(),n=t?Me.ProdTV:Me.ProdWeb,r=(0,g.useSelector)(k.Z1)?Me.Dev:n,o=null!==e&&void 0!==e?e:r,[,a]=(0,De.t)({adLocation:je.B.Provisioning,targetId:Ae,tagId:o,minWidth:180,minHeight:30,ratioWidth:6,ratioHeight:1}),i=(0,s.useMemo)((()=>(0,p.lceTransform)(a,(e=>({imgUri:e.native.image.url,sponsoredBy:e.native.sponsoredBy})))),[a]);return(0,p.useLce)(i)})(),l=(0,s.useMemo)((()=>()=>({mount:r,unmount:()=>r(void 0),addEventListener:o.current.addEventListener.bind(o.current),removeEventListener:o.current.removeEventListener.bind(o.current)})),[r]);(0,s.useImperativeHandle)(t,l);const c=(0,s.useCallback)((e=>{let{data:t}=e;return(0,a.jsx)(Re,{data:t,eventTarget:o.current})}),[]);return null==n?null:(0,xe.createPortal)((0,a.jsx)("div",{id:Ae,children:(0,a.jsx)(we.LceRenderer,{data:i,renderContent:c})}),n)})),Fe=(0,s.forwardRef)(((e,t)=>{let{productId:n}=e;const r=(0,b.nj)(f.y.EnableProvisioningAds),o=(0,b.nj)(f.y.EnableProvAdsForChild),s=(0,b.nj)(f.y.EnableProvAdsForXGPU),i=n&&Ue.includes(n),l=(0,Ge._)(),[c]=(0,Le.L)();return r&&((l||o)&&(!c||s)&&i)?(0,a.jsx)(Oe,{ref:t}):null}));var Ne=n(25774),Be=(n(6710),n(34715),n(64925),n(19570),n(54819),n(93156)),He=n(87163);var Xe=n(10022),Ve=n(15946),qe=n(96473),We=n(36849);const Ze=e=>{let{title:t,message:n,primaryText:r,primaryAction:o,onClose:s}=e;return(0,a.jsx)(We.I,{onCloseRequest:s,children:(0,a.jsx)(Ve.FocusContainer,{className:"MessageModal-module__container___wLVnt",autoFocusContainer:!0,children:(0,a.jsx)("div",{className:"MessageModal-module__content___XeqM3",children:(0,a.jsxs)("div",{className:"MessageModal-module__descriptionGroup___0DD-V",children:[(0,a.jsx)("h1",{className:"MessageModal-module__title___qA-PF",children:t}),(0,a.jsx)("div",{className:"MessageModal-module__description___HMaLB",children:n}),(0,a.jsx)(qe.kD,{as:"button",onClick:o,className:"MessageModal-module__button___L-7dQ",children:r})]})})})})};var $e=n(6691),ze=n(35365),Ke=n(28663);const Qe=(0,s.memo)((e=>{let{storeId:t,scenario:n,itemTypes:r,sessionTelemetry:i,onResult:c}=e;const[d,u,m]=(0,X.QF)("Purchase_UnsupportedTitle","Purchase_UnsupportedDescription","Close"),p=(0,s.useMemo)((()=>new l.Logger("ContextualStore/MicrosoftContextualStore")),[]),[v,g,h]=(0,s.useMemo)((()=>t.split("/")),[t]),S=(0,b.nj)(f.y.EnableLegacyPurchaseFlow),y=(0,b.nj)(f.y.EnableIAPBrowseExperience),I=Object.values(Ke.z4).includes(n),C=[Ke.z4.XStoreShowAssociatedProductsUi,Ke.z4.ShowMarketplace].includes(n),E=(0,s.useMemo)((()=>r&&r.split(",").map((e=>{switch(e){case He.Dp.Game:case He.Dp.GameDemo:return[He.Fc.Game,He.Fc.Durable,He.Fc.Consumable];case He.Dp.Consumable:return[He.Fc.Consumable];case He.Dp.Durable:return[He.Fc.Durable];case He.Dp.Application:default:return}})).reduce(((e,t)=>(t&&t.forEach((t=>{e.includes(t)||e.push(t)})),e)),[]).join(",")),[r]),P=(0,s.useMemo)((()=>!y||S||!E&&C),[y,C,S,E]),w=(0,s.useMemo)((()=>!I||!(t&&v)||C&&P),[P,C,I,v,t]),x=(0,s.useRef)(!1),k=(0,s.useCallback)((()=>{!0!==x.current?(null===c||void 0===c||c(JSON.stringify({Result:JSON.stringify({purchaseStatus:Ke.QM.NotPurchased,data:{productId:v,skuId:g,availabilityId:h,storeId:t,scenario:n}})})),x.current=!0):p.warn("Duplicate purchase cancellation detected...")}),[h,p,c,v,n,g,t]),T=(0,s.useCallback)((e=>{null===c||void 0===c||c(JSON.stringify({Result:JSON.stringify({purchaseStatus:Ke.QM.Succeeded,data:o()(o()({},e),{},{scenario:n})})}))}),[c,n]),R=(0,s.useCallback)(((e,t)=>{null===c||void 0===c||c(JSON.stringify({Result:JSON.stringify({purchaseStatus:null===t||void 0===t?void 0:t.status,data:{error:e,productId:v,skuId:g,availabilityId:h,scenario:n,orderId:null===t||void 0===t?void 0:t.orderId}})}))}),[h,c,v,n,g]),M=(0,Xe.k)(),L=(0,s.useCallback)((e=>{e&&M(function(e){return e.replace(/http(s)?:\/\//,"https://")}(e),"_blank")}),[M]),{sharedTelemetryProps:_}=(0,ze.w)(o()({productId:v,skuId:g,availabilityId:h,scenario:n,type:Ke.OS.InStream,source:Ke.Xb.XboxCom},i)),G=(0,s.useCallback)((()=>{R(new Error("Invalid purchase properties"),o()(o()({},_),{},{status:Be.sCM.PurchaseError}))}),[R,_]);return w?(0,a.jsx)(Ze,{title:d,message:u,primaryText:m,primaryAction:G,onClose:G}):(0,a.jsx)($e.O,{productId:v,availabilityId:h,skuId:g,allowAnonymous:!0,skipPurchaseConfirmation:!0,options:{fallbackToPurchaseOnError:!0},experience:C?Be.vnT.Browse:Be.vnT.Details,itemType:E,xStoreScenario:n,onSuccess:T,onError:R,onOpenUrl:L,onCancel:k,type:Ke.OS.InStream})})),Je=(0,s.forwardRef)((function(e,t){const n=(0,s.useMemo)((()=>new l.Logger("StreamPage/MicrosoftPurchaseUI")),[]),[r,o]=(0,s.useState)(),[i,c]=(0,s.useState)(),[d,u]=(0,s.useState)(),[m,p]=(0,s.useState)(),[v,g]=(0,s.useState)(),[f,h]=(0,s.useState)(),[S,y]=(0,s.useState)();return(0,s.useImperativeHandle)(t,(()=>({mount(e){n.debug("Mounting at",e),o(e)},unmount(){n.debug("Unmounting"),o(void 0)},setProductId(e){n.debug("Setting product ID to:",e),c(e)},setScenario(e){n.debug("Setting purchase scenario ",e),u(e)},setDesiredItemTypes(e){n.debug("Setting desired item types ",e),p(e)},setSessionTelemetry(e){n.debug("Setting game stream session telemetry"),g((()=>e))},setOnResult(e){n.debug("Adding on result callback"),h((()=>e))},setOnCancel(e){n.debug("Adding on cancel callback"),y((()=>e))}}))),null==r||null==i||null==d?null:(0,xe.createPortal)((0,a.jsx)(Qe,{storeId:i,scenario:d,itemTypes:m,onResult:f,onCancel:S,onClose:S,sessionTelemetry:v}),r)}));function Ye(e){var t;let{streamClient:r,user:o,config:p}=e;const v=(0,s.useRef)(),f=(0,s.useRef)(),h=(0,s.useRef)(),S=Q(v,f,h,r,o,p);Ie(S,p,(0,Pe.B)()),ae(S,p.connectMode),Ee(S);const y=function(){const e=(0,u.I)((()=>new l.Logger("GameStreamBootstrapper/useDevToolsOverlay"))),t=(0,c.Z)();return(0,m.sZ)((0,s.useCallback)((async()=>{if(t)try{const{GameStreamOverlay:e}=await Promise.all([n.e(81772),n.e(45819),n.e(1467),n.e(36979)]).then(n.bind(n,10544));return e}catch(o){var r;const t=(0,d.L)(o);return void(null===(r=e.current)||void 0===r||r.error(`Enable to import DevToolsOverlay - ${t.message}`,t))}}),[t,e]))}(),b=function(){const e=(0,u.I)((()=>new l.Logger("GameStreamBootstrapper/useInternalDevTools"))),t=(0,g.useSelector)(k.Z1);return(0,m.sZ)((0,s.useCallback)((async()=>{}),[t,e]))}(),I="titleInfo"in p?p.titleInfo:void 0;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Je,{ref:f}),(0,a.jsx)(Fe,{ref:h,productId:null===I||void 0===I||null===(t=I.product)||void 0===t?void 0:t.productId}),(0,a.jsxs)("div",{className:i,children:[(0,a.jsx)("section",{className:i,ref:v}),y&&S&&(0,a.jsx)(y,{gameStream:S}),b&&S&&(0,a.jsx)(b,{gameStream:S})]})]})}const et=(0,s.memo)((e=>(0,Ne.r)()?null:(0,a.jsx)(Ye,o()({},e))))},3197:(e,t,n)=>{n.d(t,{e:()=>i,g:()=>l});n(6886);var r=n(89298),o=n(36749),a=n(1001),s=n(18226);function i(e){const t=(0,o.Z)(),[n]=(0,a.n)("enableNativeTouch");return function(e,t,n,o){return l(!!o&&(0,r.isNativeTouchTitle)(o),e,t,n)}(t,n,(0,s.h)(),e)}function l(e,t,n,r){return!0===r&&(e||t&&n)}},98353:(e,t,n)=>{n.d(t,{B:()=>h});n(634),n(36728),n(81804),n(77950),n(94908),n(6886),n(60523);var r=n(89298),o=n(2784),a=n(7267),s=n(36749),i=n(61872),l=n(49687),c=n(5653);const{productId:d,title:u,description:m,creator:p,image:v,payload:g}=c.ShareStatePrototypeTestHarness.QueryStrings,f=[d,u,m,p,v,g];function h(){const e=(0,l.nj)(i.y.EnableShareStatePrototype),t=(0,s.Z)(),n=e||t,{search:c,state:d}=(0,a.TH)(),u=(0,o.useMemo)((()=>{if(!c||!n)return;const e=[],t=new URLSearchParams(c);for(const n of f){const r=t.get(n);if(null==r)return;e.push([n,r])}return e.length===f.length?Object.fromEntries(e):void 0}),[n,c]);if(n)return u||((0,r.isStateSharePrototypeData)(d)?d:void 0)}},35626:(e,t,n)=>{n.d(t,{y:()=>i});n(73439),n(6886);var r=n(46209),o=n(2784),a=n(89085),s=n(50957);const i=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new r.Logger("StreamPage/useGameStreamClass");return(0,s.sZ)((0,o.useCallback)((async()=>{try{const{GameStream:e}=await Promise.all([n.e(81772),n.e(74470),n.e(54625),n.e(20974),n.e(84881),n.e(13346),n.e(45819),n.e(50938),n.e(63896),n.e(69899),n.e(24371)]).then(n.bind(n,54200));return e}catch(t){const n=(0,a.L)(t);return void(null===e||void 0===e||e.error(`An error occurred while loading the GameStream class - ${n.message}`,n))}}),[e]))}},44442:(e,t,n)=>{n.d(t,{k:()=>r});const r=(0,n(2784).createContext)(void 0);r.displayName="Navigation"},2871:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerInformation=void 0;const r=n(68287),o=n(21372);t.ControllerInformation=class{constructor(e){const t=(0,o.getDisambiguatedGamepadId)(e);this.vendorId=(0,o.extractRegexMatch)(o.vendorIdRegEx,t),this.productId=(0,o.extractRegexMatch)(o.productIdRegEx,t);const n=(0,o.getGamepadInfo)(this.vendorId,this.productId);n?(this.isDualSense=n.model===r.GamepadModel.DualSense,this.isDualShock4=n.model===r.GamepadModel.DualShock4,this.isXbox=n.model===r.GamepadModel.Xbox,this.isStadia=n.model===r.GamepadModel.Stadia,this.isSwitchPro=n.model===r.GamepadModel.SwitchPro,this.isLuna=n.model===r.GamepadModel.Luna,this.isUnknown=n.model===r.GamepadModel.Unknown,this.controllerType=n.type):(this.isDualSense=!1,this.isDualShock4=!1,this.isXbox=!1,this.isStadia=!1,this.isSwitchPro=!1,this.isLuna=!1,this.isUnknown=!0,this.controllerType=r.ControllerType.Other)}}},80822:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useControllerInformation=t.getGamepadInfoFromId=t.ControllerType=t.GamepadModel=void 0;n(22970).__exportStar(n(2871),t);var r=n(68287);Object.defineProperty(t,"GamepadModel",{enumerable:!0,get:function(){return r.GamepadModel}}),Object.defineProperty(t,"ControllerType",{enumerable:!0,get:function(){return r.ControllerType}});var o=n(21372);Object.defineProperty(t,"getGamepadInfoFromId",{enumerable:!0,get:function(){return o.getGamepadInfoFromId}});var a=n(7025);Object.defineProperty(t,"useControllerInformation",{enumerable:!0,get:function(){return a.useControllerInformation}})},68287:(e,t)=>{var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.ControllerType=t.GamepadModel=void 0,function(e){e[e.DualSense=0]="DualSense",e[e.DualShock4=1]="DualShock4",e[e.Xbox=2]="Xbox",e[e.Stadia=3]="Stadia",e[e.SwitchPro=4]="SwitchPro",e[e.Luna=5]="Luna",e[e.Unknown=6]="Unknown"}(n||(t.GamepadModel=n={})),function(e){e.Xbox="Xbox",e.XboxTakehome="XboxTakehome",e.Luna="Luna",e.PlayStation="PlayStation",e.Other="Other"}(r||(t.ControllerType=r={}))},7025:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.useControllerInformation=void 0;const r=n(15946),o=n(2784),a=n(2871);t.useControllerInformation=()=>{const e=(0,r.useGetGamepadsInOrder)()[0];return(0,o.useMemo)((()=>new a.ControllerInformation(e)),[e])}},21372:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.getDisambiguatedGamepadId=t.getProductIdFromGamepadId=t.getVendorIdFromGamepadId=t.extractRegexMatch=t.getGamepadInfo=t.getGamepadInfoFromDisambiguatedGamepadId=t.getGamepadInfoFromId=t.productIdRegEx=t.vendorIdRegEx=void 0;const r=n(68287),o=[{vendorId:1356,productId:3302,model:r.GamepadModel.DualSense,type:r.ControllerType.PlayStation},{vendorId:1356,productId:1476,model:r.GamepadModel.DualShock4,type:r.ControllerType.PlayStation},{vendorId:1356,productId:2508,model:r.GamepadModel.DualShock4,type:r.ControllerType.PlayStation},{vendorId:1118,model:r.GamepadModel.Xbox,type:r.ControllerType.Xbox},{vendorId:6353,productId:37888,model:r.GamepadModel.Stadia,type:r.ControllerType.Other},{vendorId:1406,productId:8201,model:r.GamepadModel.SwitchPro,type:r.ControllerType.Other},{vendorId:369,productId:1049,model:r.GamepadModel.Luna,type:r.ControllerType.Luna}].reduce(((e,t)=>{const{vendorId:n,productId:r}=t;e[n]||(e[n]={});const o=r??"default";return e[n][o]=t,e}),{});t.vendorIdRegEx=/Vendor:\s*([0-9a-fA-F]+)/,t.productIdRegEx=/Product:\s*([0-9a-fA-F]+)/;t.getGamepadInfoFromId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.getGamepadInfoFromDisambiguatedGamepadId)(n)};t.getGamepadInfoFromDisambiguatedGamepadId=e=>{if(!e)return;const n=(0,t.extractRegexMatch)(t.vendorIdRegEx,e),r=(0,t.extractRegexMatch)(t.productIdRegEx,e);return(0,t.getGamepadInfo)(n,r)};t.getGamepadInfo=(e,t)=>{if(!e)return;const n=parseInt(e??"0",16),r=parseInt(t??"0",16),a=o[n];return a?a[r]||a.default:void 0};t.extractRegexMatch=(e,t)=>t?t.match(e)?.[1]:void 0;t.getVendorIdFromGamepadId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.extractRegexMatch)(t.vendorIdRegEx,n)};t.getProductIdFromGamepadId=e=>{const n=(0,t.getDisambiguatedGamepadId)(e);return(0,t.extractRegexMatch)(t.productIdRegEx,n)};t.getDisambiguatedGamepadId=e=>{let t;if("number"===typeof e){const n=globalThis.navigator?.getGamepads?.();t=n?.[e]?.id}else t=e;return t}}}]);
//# sourceMappingURL=97656.bc5b6bcd.chunk.js.map