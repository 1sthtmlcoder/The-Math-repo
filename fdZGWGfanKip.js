(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[58850],{71402:(e,t,r)=>{"use strict";r.d(t,{DP:()=>o,H9:()=>i,KF:()=>l,O1:()=>g,TW:()=>h,bu:()=>f,cs:()=>s,jC:()=>c,jD:()=>a,l4:()=>n,mx:()=>u,r_:()=>E,vG:()=>d});r(71372);class n extends Error{constructor(e,t){super(e),this.strategy=t,this.type=this.constructor.type}static isInstance(e){return e&&e.type===this.type}}n.type="AuthError";class i extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User is not signed in to Xbox.com",arguments.length>1?arguments[1]:void 0)}}i.type="NotSignedInToXboxError";class o extends n{constructor(e,t,r){super(t||`User's xToken for relying part ${e} has expired`,r),this.relyingParty=e}}o.type="XTokenExpiredError";class s extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to acquire xToken",arguments.length>1?arguments[1]:void 0)}}s.type="UnableToAcquireXTokenError";class c extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User is not authorized for xCloud",arguments.length>1?arguments[1]:void 0)}}c.type="NotAuthorizedForXCloudError";class u extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User is not authorized for xCloud due to an unexpected reason",arguments.length>1?arguments[1]:void 0)}}u.type="UnexpectedAuthError";class a extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User's country code is invalid",arguments.length>1?arguments[1]:void 0)}}a.type="InvalidCountryCodeError";class f extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Invalid offering was requested",arguments.length>1?arguments[1]:void 0)}}f.type="InvalidOfferingError";class g extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to find developer kits associated with this account",arguments.length>1?arguments[1]:void 0)}}g.type="NoAssociatedDevKitsError";class l extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"User is not authorized as the account type is not a sandbox developer account",arguments.length>1?arguments[1]:void 0)}}l.type="NotASandboxUserError";class E extends n{constructor(){super(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unable to find private offerings associated with this account",arguments.length>1?arguments[1]:void 0)}}E.type="NoPrivateOfferingsError";class d extends n{constructor(e,t){super(e),this.market=t}}d.type="UnsupportedMarketError";const h=e=>c.isInstance(e)||a.isInstance(e)||f.isInstance(e)},89965:(e,t,r)=>{"use strict";r.d(t,{RN:()=>f,W$:()=>c,iW:()=>a,o3:()=>u});var n=r(814),i=r.n(n),o=(r(77950),r(21850),r(85940),r(71402));const s=/[^0-9a-z_]/g;function c(e){return u(e)?e.id.toLowerCase():e.toLowerCase()}function u(e){return"string"!==typeof e&&Boolean(e.id)}function a(e){if(e.length>50)throw new o.bu("Offering ID exceeded maximum length of 50 characters");if(s.test(e))throw new o.bu(`Invalid characters present in Offering ID: ${e}.`)}function f(e){const t=c(e).toLowerCase().replace(s,"").slice(0,50);return u(e)?i()(i()({},e),{},{id:t}):t}},64122:(e,t,r)=>{"use strict";r.d(t,{Ev:()=>p,Kn:()=>U,RG:()=>R,V8:()=>S,ci:()=>d,getOfferings:()=>O,hydrateUser:()=>C,loginWithDefaultOffering:()=>_,loginWithRequestedOffering:()=>A,mG:()=>h,r6:()=>T,x4:()=>y});var n=r(2541),i=r(87804);const o="@authentication/XBOX_LIVE_USER_CHANGED",s="@authentication/GAME_STREAM_USER_CHANGED",c={START:"@authentication/AUTH_BY_STRATEGY_START",SUCCESS:"@authentication/AUTH_BY_STRATEGY_SUCCESS",ERROR:"@authentication/AUTH_BY_STRATEGY_ERROR"},u="@authentication/SET_DEFAULT_OFFERING",a="@authentication/SET_STREAMING_REGION",f={START:"@authentication/LOGIN_WITH_DEFAULT_OFFERING_START",SUCCESS:"@authentication/LOGIN_WITH_DEFAULT_OFFERING_SUCCESS",ERROR:"@authentication/LOGIN_WITH_DEFAULT_OFFERING_ERROR"},g={START:"@authentication/LOGIN_WITH_REQUESTED_OFFERING_START",SUCCESS:"@authentication/LOGIN_WITH_REQUESTED_OFFERING_SUCCESS",ERROR:"@authentication/LOGIN_WITH_REQUESTED_OFFERING_ERROR"},l={START:"@authentication/HYDRATE_USER_START",SUCCESS:"@authentication/HYDRATE_USER_SUCCESS",ERROR:"@authentication/HYDRATE_USER_ERROR"},E={START:"@authentication/GET_OFFERINGS_START",SUCCESS:"@authentication/GET_OFFERINGS_SUCCESS",ERROR:"@authentation/GET_OFFERINGS_ERROR"},d=(0,n.PH)(i.s.Authentication,o,(()=>({}))),h=d(),T=(0,n.PH)(i.s.Authentication,s,(()=>({}))),S=T(),R=(0,n.FZ)(i.s.Authentication,c.START,(e=>({strategy:e})),c.SUCCESS,((e,t)=>({strategy:e,cacheTimeInMS:t})),c.ERROR,((e,t)=>({strategy:e,error:t}))),y=(0,n.PH)(i.s.Authentication,u,(e=>({offering:e}))),p=(0,n.PH)(i.s.Authentication,a,(e=>({region:e}))),_=(0,n.FZ)(i.s.Authentication,f.START,(()=>{}),f.SUCCESS,((e,t)=>({offering:e,user:t})),f.ERROR,((e,t)=>({error:t,offering:e}))),A=(0,n.FZ)(i.s.Authentication,g.START,(e=>({offering:e})),g.SUCCESS,((e,t)=>({offering:e,user:t})),g.ERROR,((e,t)=>({error:t,offering:e}))),C=(0,n.FZ)(i.s.Authentication,l.START,((e,t)=>({offering:e,serializedUser:t})),l.SUCCESS,((e,t)=>({offering:e,user:t})),l.ERROR,((e,t)=>({error:t,offering:e}))),O=(0,n.FZ)(i.s.Authentication,E.START,(()=>{}),E.SUCCESS,(e=>({offerings:e})),E.ERROR,(e=>({error:e}))),U=[_.error.getType(),_.success.getType(),A.success.getType(),A.error.getType(),C.success.getType()]},58850:(e,t,r)=>{"use strict";r.d(t,{ZP:()=>h,m9:()=>E,sS:()=>l});var n=r(814),i=r.n(n),o=(r(634),r(81804),r(64925),r(54819),r(6886),r(9888)),s=r(16216),c=r(64122),u=r(12417),a=r(87804),f=r(89965),g=r(72054);const l=Symbol("streamUser");var E;function d(){return{authStatusByStrategy:i()(i()({},Object.fromEntries(Object.entries(i()({},g.b)).map((e=>{let[t]=e;return[t,o.LCE_NOT_REQUESTED]})))),{},{[g.b.Public]:(0,o.lceContent)(!0)}),offerings:{},serviceOfferings:o.LCE_NOT_REQUESTED,serializedUser:o.LCE_NOT_REQUESTED,[l]:o.LCE_NOT_REQUESTED,userAcquisitionType:o.LCE_NOT_REQUESTED}}!function(e){e.Login="login",e.Hydration="hydration"}(E||(E={}));const h=(0,s.$ex)([a.s.Authentication],new s.h7h(d()).on(c.ci.getType(),(()=>d())).on(c.RG.start.getType(),((e,t)=>{let{strategy:r}=t;return i()(i()({},e),{},{authStatusByStrategy:i()(i()({},e.authStatusByStrategy),{},{[r]:i()(i()({},(0,o.isError)(e.authStatusByStrategy[r])?e.authStatusByStrategy[r]:void 0),(0,o.lceFetching)(e.authStatusByStrategy[r]))})})})).on(c.RG.success.getType(),((e,t)=>{let{strategy:r,cacheTimeInMS:n}=t;return i()(i()({},e),{},{authStatusByStrategy:i()(i()({},e.authStatusByStrategy),{},{[r]:(0,o.lceContent)(!0,n)})})})).on(c.RG.error.getType(),((e,t)=>{let{error:r,strategy:n}=t;return i()(i()({},e),{},{authStatusByStrategy:i()(i()({},e.authStatusByStrategy),{},{[n]:(0,o.lceError)(r,(0,o.lceContent)(!1))})})})).on(c.x4.getType(),((e,t)=>{let{offering:r}=t;return i()(i()({},e),{},{offerings:i()(i()({},e.offerings),{},{default:{type:"default",offering:r,isAuthorized:o.LCE_NOT_REQUESTED}})})})).on(c.loginWithDefaultOffering.start.getType(),(e=>e.offerings.default?i()(i()({},e),{},{offerings:i()(i()({},e.offerings),{},{default:i()(i()({},e.offerings.default),{},{isAuthorized:(0,o.lceFetching)(e.offerings.default.isAuthorized)})}),serializedUser:(0,o.lceFetching)(),[l]:(0,o.lceFetching)(e[l]),userAcquisitionType:(0,o.lceFetching)((0,o.lceContent)(E.Login))}):e)).on(c.loginWithDefaultOffering.success.getType(),((e,t)=>{let{offering:r,user:n}=t;return i()(i()({},e),{},{offerings:i()(i()({},e.offerings),{},{default:i()(i()({},e.offerings.default),{type:"default",offering:r,isAuthorized:(0,o.lceContent)(!0)})}),[l]:(0,o.lceContent)(n),serializedUser:(0,o.lceContent)(n.serialize()),userAcquisitionType:(0,o.lceContent)(E.Login)})})).on(c.loginWithDefaultOffering.error.getType(),((e,t)=>{let{error:r,offering:n}=t;const s=(0,u.b)(r);return i()(i()({},e),{},{offerings:i()(i()({},e.offerings),{},{default:n?i()(i()({},e.offerings.default),{},{type:"default",offering:n,isAuthorized:(0,o.lceError)(s,(0,o.lceContent)(!1))}):void 0}),[l]:(0,o.lceError)(s),serializedUser:(0,o.lceError)(s),userAcquisitionType:(0,o.lceError)(s,(0,o.lceContent)(E.Login))})})).on(c.loginWithRequestedOffering.start.getType(),((e,t)=>{let{offering:r}=t;const n=e.offerings.requested,s=null===n||void 0===n?void 0:n.isAuthorized,c=null!=(null===n||void 0===n?void 0:n.offering)&&(0,f.W$)(r)===(0,f.W$)(n.offering)?(0,o.lceFetching)(s):(0,o.lceFetching)();return i()(i()({},e),{},{offerings:i()(i()({},e.offerings),{},{requested:{type:"requested",offering:r,isAuthorized:c}}),[l]:(0,o.lceFetching)(e[l]),serializedUser:(0,o.lceFetching)(),userAcquisitionType:(0,o.lceFetching)((0,o.lceContent)(E.Login))})})).on(c.loginWithRequestedOffering.success.getType(),((e,t)=>{let{offering:r,user:n}=t;return i()(i()({},e),{},{offerings:i()(i()({},e.offerings),{},{requested:i()(i()({},e.offerings.requested),{},{type:"requested",offering:r,isAuthorized:(0,o.lceContent)(!0)})}),[l]:(0,o.lceContent)(n),serializedUser:(0,o.lceContent)(n.serialize()),userAcquisitionType:(0,o.lceContent)(E.Login)})})).on(c.loginWithRequestedOffering.error.getType(),((e,t)=>{let{error:r,offering:n}=t;const s=(0,u.b)(r);return i()(i()({},e),{},{offerings:i()(i()({},e.offerings),{},{requested:i()(i()({},e.offerings.requested),{},{type:"requested",offering:n,isAuthorized:(0,o.lceError)(s,(0,o.lceContent)(!1))})}),[l]:(0,o.lceError)(s),serializedUser:(0,o.lceError)(s),userAcquisitionType:(0,o.lceError)(s,(0,o.lceContent)(E.Login))})})).on(c.hydrateUser.start.getType(),(e=>i()(i()({},e),{},{[l]:(0,o.lceFetching)(e[l]),userAcquisitionType:(0,o.lceFetching)((0,o.lceContent)(E.Hydration))}))).on(c.hydrateUser.success.getType(),((e,t)=>{let{user:r}=t;return i()(i()({},e),{},{[l]:(0,o.lceContent)(r),userAcquisitionType:(0,o.lceContent)(E.Hydration)})})).on(c.hydrateUser.error.getType(),((e,t)=>{let{error:r}=t;return i()(i()({},e),{},{[l]:(0,o.lceError)(r),serializedUser:(0,o.lceError)(r),userAcquisitionType:(0,o.lceError)(r,(0,o.lceContent)(E.Hydration))})})).on(c.getOfferings.start.getType(),(e=>i()(i()({},e),{},{serviceOfferings:(0,o.lceFetching)()}))).on(c.getOfferings.success.getType(),((e,t)=>{let{offerings:r}=t;return i()(i()({},e),{},{serviceOfferings:(0,o.lceContent)(r)})})).on(c.getOfferings.error.getType(),((e,t)=>{let{error:r}=t;const n=(0,u.b)(r);return i()(i()({},e),{},{serviceOfferings:(0,o.lceError)(n)})})).build())},12417:(e,t,r)=>{"use strict";r.d(t,{b:()=>n});r(71372);function n(e){return e}},81804:(e,t,r)=>{var n=r(23103),i=r(89003),o=r(62324);n({target:"Object",stat:!0},{fromEntries:function(e){var t={};return i(e,(function(e,r){o(t,e,r)}),{AS_ENTRIES:!0}),t}})}}]);
//# sourceMappingURL=58850.325ac59a.chunk.js.map